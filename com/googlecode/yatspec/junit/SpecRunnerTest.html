<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <title>Spec  runner</title>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js" type="text/javascript"></script>


        <script type="text/javascript">
        // <![CDATA[
RegExp.prototype.replace = function(str, replacer, nonMatchedReplacer) {
    nonMatchedReplacer = nonMatchedReplacer || function(value) {
        return value
    };
    var result = [];

    var position = 0;
    var match;
    while (( match = this.exec(str)) != null) {
        result.push(nonMatchedReplacer(str.substring(position, match.index)));
        result.push(replacer(match));
        position = this.lastIndex;
    }
    result.push(nonMatchedReplacer(str.substring(position)));

    return result.join("");
}

function yatspec() {}

yatspec.highlight = function(element, pairs) {
    if (pairs.length == 0) {
        return;
    }
    var classes = [];
    var matchGroups = [];
    $.each(pairs, function() {
        matchGroups.push("(", this.pattern, ")", "|");
        classes.push(this.cssClass);
    });
    matchGroups.pop();
    var regex = new RegExp(matchGroups.join(""), "g");

    $(element).html(regex.replace($(element).html(), function(match) {
        var matches = match.slice(1);
        for (var i = 0; i < matches.length; i++) {
            if (matches[i]) {
                return '<span class="' + classes[i] + '">' + matches[i] + '</span>'
            }
        }
    }));
}

$(document).ready(function () {
    $('.logKey').click(function() {
        $(this).next(".logValue").toggleClass("hide");
    });

    $('.logKey').next(".logValue").toggleClass("hide");


    $('.highlight.specification').each(function() {
        yatspec.highlight(this, [
            {pattern: '"[^"]*"', cssClass: "quote" },
            {pattern: "Given", cssClass: "keyword" },
            {pattern: "And", cssClass: "keyword" },
            {pattern: "When", cssClass: "keyword" },
            {pattern: "Then", cssClass: "keyword" },
            {pattern: "[A-Z_]{2,}" , cssClass: "constant" },
            {pattern: "[\\d]+" , cssClass: "literal" }
        ]);
    })

    $('.highlight.results').each(function() {
        yatspec.highlight(this, [
            {pattern: '"[^"]*"', cssClass: "quote" },
            {pattern: "Expected", cssClass: "keyword" },
            {pattern: "got", cssClass: "keyword" },
            {pattern: "[A-Z_]{2,}" , cssClass: "constant" },
            {pattern: "[\\d]+" , cssClass: "literal" }
        ]);
    })

    $('.scenario').each(function() {
        var interestingGivens = $('.interestingGiven', this).map(function() {
            return { pattern: $(this).text(), cssClass: "interestingGiven" };
        }).get();

        $('.highlight.xml', this).each(function() {
            yatspec.highlight(this, interestingGivens.concat([
                {pattern: '"[^"]*"', cssClass: "quote" },
                {pattern: "&lt;[^\\s&]+", cssClass: "keyword" },
                {pattern: "\\??&gt;", cssClass: "keyword" },
                {pattern: "\\s[\\w:-]+=", cssClass: "constant" }
            ]));
        })
    })

}, false);




        // ]]>
        </script>
    


        <style type="text/css">
html, body {
    margin: 1em 2ex 2em;
    padding: 0;
    background-color: #fff;
    color: #000;
    font-family: Arial, Helvetica, Verdana, sans-serif;
    font-size: 10pt;
}

h1, h2, h3, h4, h5, h6, th {
    text-transform: capitalize;
}

h1 { font-size:170%; }
h2 { font-size:150%; }
h3 { font-size:140%; }
h4 { font-size:130%; }
h5 { font-size:120%; }
h6 { font-size:110%; }

.highlight {
    background-color: #E8EEF7;
    border: 1px solid #C3D9FF;
    padding: 5px;
    font: 10pt Arial, sans-serif;
}

.highlight .literal{
    color:#066;
}

.highlight .keyword{
    color:#008;
}

.highlight .constant{
    color:#606;
}

.highlight .quote {
    color: #080;
}

.highlight.specification .literal,
.highlight.specification .keyword,
.highlight.specification .constant,
.highlight.specification .quote {
    font-weight:bold;
}

pre.test-not-run, .test-not-run, .interestingGiven  {
    background-color: #FFF4CC;
    border: 2px solid #FFBB66;
}

.interestingGiven {
    padding:0 2px;
}

pre.test-failed, .test-failed {
    background-color: #FFF6FF;
    border: 2px solid #FDA8A8;
}

pre.test-passed, .test-passed {
    background-color: #F2FFEE;
    border: 2px solid #A5DDAD;
}

li.test-not-run, li.test-passed {
    border: none;
}

ul.contents a {
    text-transform: capitalize;
}

a, table a {
    color: #660066;
    text-decoration: none;
}

a:hover, table a:hover {
    text-decoration: underline;
}

table {
    background-color: #F5F9FD;
    border: 1px solid #C3D9FF;
    border-collapse:collapse;
    empty-cells:show;
}

th {
    background-color: #E8EEF7;
    border: 1px solid #C3D9FF;
}

td {
    border: 1px solid #C3D9FF;
}

.scenarios td {
    padding: 0 20px;
    text-align: center;
}

.scenario {
    background-color:#F5F9FD;
    border:1px solid #C3D9FF;
    padding:0 10px;
}

h2 {
    margin-top: 10px;
}

pre {
    margin-bottom: 32px;
}

div.example {
    margin-bottom: 64px;
}

.hide {
    display: none;
}

.logKey {
    cursor: pointer;
}

.logKey:hover {
    text-decoration: underline;
}

.interestingGivens th {
    text-align: left;
}

.interestingGivens td {
    text-align: right;
    padding: 0 5px;
    vertical-align: middle;
}
        </style>
    
</head>
<body>

<h1>Spec  runner</h1>

    <h2>Contents</h2>

    <ul class="contents">
    </ul>


</body>
</html>